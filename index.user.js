(()=>{"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function s(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t){return 0===Object.keys(t).length}function a(t){return null==t?"":t}function l(t,e){t.appendChild(e)}function i(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function d(t){return document.createElement(t)}function b(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function f(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}let m;function h(t){m=t}new Set,new Set;const p=[],$=[],g=[],y=[],j=Promise.resolve();let w=!1;function N(t){g.push(t)}let k=!1;const _=new Set;function v(){if(!k){k=!0;do{for(let t=0;t<p.length;t+=1){const e=p[t];h(e),x(e.$$)}for(h(null),p.length=0;$.length;)$.pop()();for(let t=0;t<g.length;t+=1){const e=g[t];_.has(e)||(_.add(e),e())}g.length=0}while(p.length);for(;y.length;)y.pop()();w=!1,k=!1,_.clear()}}function x(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(N)}}const S=new Set;let C;function I(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function E(r,c,a,l,i,d,b=[-1]){const f=m;h(r);const $=c.props||{},g=r.$$={fragment:null,ctx:null,props:d,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:n(),dirty:b,skip_bound:!1};let y=!1;if(g.ctx=a?a(r,$,((t,e,...n)=>{const o=n.length?n[0]:e;return g.ctx&&i(g.ctx[t],g.ctx[t]=o)&&(!g.skip_bound&&g.bound[t]&&g.bound[t](o),y&&function(t,e){-1===t.$$.dirty[0]&&(p.push(t),w||(w=!0,j.then(v)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(r,t)),e})):[],g.update(),y=!0,o(g.before_update),g.fragment=!!l&&l(g.ctx),c.target){if(c.hydrate){const t=(x=c.target,Array.from(x.childNodes));g.fragment&&g.fragment.l(t),t.forEach(u)}else g.fragment&&g.fragment.c();c.intro&&((k=r.$$.fragment)&&k.i&&(S.delete(k),k.i(_))),function(t,n,r){const{fragment:c,on_mount:a,on_destroy:l,after_update:i}=t.$$;c&&c.m(n,r),N((()=>{const n=a.map(e).filter(s);l?l.push(...n):o(n),t.$$.on_mount=[]})),i.forEach(N)}(r,c.target,c.anchor),v()}var k,_,x;h(f)}"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global,new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),"function"==typeof HTMLElement&&(C=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}$destroy(){I(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!c(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});class q{$destroy(){I(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!c(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function A(e){let n,o,s;return{c(){n=d("button"),n.textContent="不感興趣",f(n,"class","b-btn b-btn--default svelte-148gft3")},m(t,r){i(t,n,r),o||(s=b(n,"click",e[0]),o=!0)},p:t,i:t,o:t,d(t){t&&u(n),o=!1,s()}}}function L(t,e,n){let{onClick:o}=e;return t.$$set=t=>{"onClick"in t&&n(1,o=t.onClick)},[t=>{o(t.target.parentElement.parentElement.querySelector(".js-job-link").getAttribute("href"))},o]}const O=class extends q{constructor(t){var e;super(),document.getElementById("svelte-148gft3-style")||((e=d("style")).id="svelte-148gft3-style",e.textContent="button.svelte-148gft3{margin-top:10px}",l(document.head,e)),E(this,t,L,A,r,{onClick:1})}},T="@104IgnoreNotInteresting:ignoredJobs",{localStorage:J}=window;J[T]=J[T]||"{}";try{JSON.parse(J[T])}catch{J[T]="{}"}const B=t=>{J[T]=JSON.stringify(t)},M=new Proxy(JSON.parse(J[T]),{set:(t,e,n)=>(t[e]=n,B(t),!0),deleteProperty:(t,e)=>(delete t[e],B(t),!0)}),P=({jobName:t,jobNo:e,jobId:n,custName:o})=>{M[U({jobName:t,jobNo:e,jobId:n,custName:o})]=Date.now()},H=t=>!!M[U(t)],U=({jobName:t,jobNo:e,jobId:n,custName:o})=>[t,e,n,o].join("​"),D=/^https:\/\/www\.104\.com\.tw\/jobs\/search/,z=/www\.104\.com\.tw\/job\/(\w+)/,F=()=>{const t=document.querySelector("#js-job-content");t&&[...t.querySelectorAll("article")].reverse().every(((t,e)=>{const{jobName:n,jobNo:o,custName:s,isLast:r}=t.dataset;return!r&&(H({jobName:n,jobNo:o,custName:s})?K(t):new O({target:t.querySelector(".b-block__right"),props:{onClick:e=>G({jobName:n,jobNo:o,custName:s,jobUrl:e,$job:t})}}),0===e&&(t.dataset.isLast=!0),!0)}))},G=({jobName:t,jobNo:e,custName:n,jobUrl:o,$job:s})=>{const r=o.match(z)[1];P({jobName:t,jobNo:e,jobId:r,custName:n}),K(s)},K=t=>{t.className+=" hide"},Q=window.history.replaceState;function R(e){let n,o,r,c,m;return{c(){var t;n=d("button"),t="不感興趣",o=document.createTextNode(t),f(n,"class",r=a("btn btn-sm btn-has-icon "+(e[0]?"btn-secondary":"btn-outline-primary"))+" svelte-nck79t")},m(t,r){i(t,n,r),l(n,o),c||(m=b(n,"click",(function(){s(e[1])&&e[1].apply(this,arguments)})),c=!0)},p(t,[o]){e=t,1&o&&r!==(r=a("btn btn-sm btn-has-icon "+(e[0]?"btn-secondary":"btn-outline-primary"))+" svelte-nck79t")&&f(n,"class",r)},i:t,o:t,d(t){t&&u(n),c=!1,m()}}}function V(t,e,n){let{isIgnored:o}=e,{onClick:s}=e;return t.$$set=t=>{"isIgnored"in t&&n(0,o=t.isIgnored),"onClick"in t&&n(1,s=t.onClick)},[o,s]}window.history.replaceState=(...t)=>{window.dispatchEvent(new CustomEvent("urlchange")),Q(...t)},window.addEventListener("urlchange",(()=>{D.test(window.location.href)&&setTimeout((()=>{F()}),449)})),F();const W=class extends q{constructor(t){var e;super(),document.getElementById("svelte-nck79t-style")||((e=d("style")).id="svelte-nck79t-style",e.textContent="button.svelte-nck79t{float:left;margin-top:5px}",l(document.head,e)),E(this,t,V,R,r,{isIgnored:0,onClick:1})}},X=document.querySelector(".job-header__btn");if(X){const t=document.querySelector(".job-header__cont"),e=t.querySelector(".job-header__title h1").getAttribute("title"),n=t.querySelector("form.apply-button").elements.cookie_names.value,o=t.querySelector('.job-header__title > div > a[data-gtm-head="公司名稱"]').getAttribute("title");let s=H({jobName:e,jobNo:n,custName:o});const r=new W({target:X,props:{isIgnored:s,onClick:()=>c()}}),c=()=>{const t=window.location.href.match(/www\.104\.com\.tw\/job\/(\w+)/)[1];s=!s,r.$$set({isIgnored:s}),s?P({jobName:e,jobNo:n,jobId:t,custName:o}):(({jobName:t,jobNo:e,jobId:n,custName:o})=>{delete M[U({jobName:t,jobNo:e,jobId:n,custName:o})]})({jobName:e,jobNo:n,jobId:t,custName:o})}}})();