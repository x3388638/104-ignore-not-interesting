(()=>{"use strict";function t(){}function e(t){return t()}function o(){return Object.create(null)}function n(t){t.forEach(e)}function s(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function r(t){return 0===Object.keys(t).length}function i(t){return null==t?"":t}function a(t,e){t.appendChild(e)}function c(t,e,o){t.insertBefore(e,o||null)}function d(t){t.parentNode.removeChild(t)}function u(t){return document.createElement(t)}function m(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function f(t){return document.createTextNode(t)}function b(){return f(" ")}function h(t,e,o,n){return t.addEventListener(e,o,n),()=>t.removeEventListener(e,o,n)}function p(t,e,o){null==o?t.removeAttribute(e):t.getAttribute(e)!==o&&t.setAttribute(e,o)}function v(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}let g;function w(t){g=t}new Set,new Set;const j=[],y=[],$=[],N=[],_=Promise.resolve();let k=!1;function x(t){$.push(t)}let I=!1;const L=new Set;function C(){if(!I){I=!0;do{for(let t=0;t<j.length;t+=1){const e=j[t];w(e),S(e.$$)}for(w(null),j.length=0;y.length;)y.pop()();for(let t=0;t<$.length;t+=1){const e=$[t];L.has(e)||(L.add(e),e())}$.length=0}while(j.length);for(;N.length;)N.pop()();k=!1,I=!1,L.clear()}}function S(t){if(null!==t.fragment){t.update(),n(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(x)}}const A=new Set;let E,J;function q(t,e){t&&t.i&&(A.delete(t),t.i(e))}function M(t,e,o,n){if(t&&t.o){if(A.has(t))return;A.add(t),E.c.push((()=>{A.delete(t),n&&(o&&t.d(1),n())})),t.o(e)}}function V(t,e){M(t,1,1,(()=>{e.delete(t.key)}))}function z(t){t&&t.c()}function O(t,o,l){const{fragment:r,on_mount:i,on_destroy:a,after_update:c}=t.$$;r&&r.m(o,l),x((()=>{const o=i.map(e).filter(s);a?a.push(...o):n(o),t.$$.on_mount=[]})),c.forEach(x)}function T(t,e){const o=t.$$;null!==o.fragment&&(n(o.on_destroy),o.fragment&&o.fragment.d(e),o.on_destroy=o.fragment=null,o.ctx=[])}function H(e,s,l,r,i,a,c=[-1]){const u=g;w(e);const m=s.props||{},f=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:i,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:o(),dirty:c,skip_bound:!1};let b=!1;if(f.ctx=l?l(e,m,((t,o,...n)=>{const s=n.length?n[0]:o;return f.ctx&&i(f.ctx[t],f.ctx[t]=s)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](s),b&&function(t,e){-1===t.$$.dirty[0]&&(j.push(t),k||(k=!0,_.then(C)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),o})):[],f.update(),b=!0,n(f.before_update),f.fragment=!!r&&r(f.ctx),s.target){if(s.hydrate){const t=(h=s.target,Array.from(h.childNodes));f.fragment&&f.fragment.l(t),t.forEach(d)}else f.fragment&&f.fragment.c();s.intro&&q(e.$$.fragment),O(e,s.target,s.anchor),C()}var h;w(u)}"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global,new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),"function"==typeof HTMLElement&&(J=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,o){this[t]=o}$destroy(){T(this,1),this.$destroy=t}$on(t,e){const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(e),()=>{const t=o.indexOf(e);-1!==t&&o.splice(t,1)}}$set(t){this.$$set&&!r(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});class B{$destroy(){T(this,1),this.$destroy=t}$on(t,e){const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(e),()=>{const t=o.indexOf(e);-1!==t&&o.splice(t,1)}}$set(t){this.$$set&&!r(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function R(e){let o,n,l;return{c(){o=u("button"),o.textContent="不感興趣",p(o,"class","b-btn b-btn--default svelte-148gft3")},m(t,r){c(t,o,r),n||(l=h(o,"click",(function(){s(e[0])&&e[0].apply(this,arguments)})),n=!0)},p(t,[o]){e=t},i:t,o:t,d(t){t&&d(o),n=!1,l()}}}function P(t,e,o){let{onClick:n}=e;return t.$$set=t=>{"onClick"in t&&o(0,n=t.onClick)},[n]}const W=class extends B{constructor(t){var e;super(),document.getElementById("svelte-148gft3-style")||((e=u("style")).id="svelte-148gft3-style",e.textContent="button.svelte-148gft3{margin-top:10px}",a(document.head,e)),H(this,t,P,R,l,{onClick:0})}},D="@104IgnoreNotInteresting:ignoredJobs",{localStorage:F}=window;F[D]=F[D]||"{}";try{JSON.parse(F[D])}catch{F[D]="{}"}const G=t=>{F[D]=JSON.stringify(t)},K=(t={})=>new Proxy(t,{set:(t,e,o)=>(t[e]=o,G(t),!0),deleteProperty:(t,e)=>(delete t[e],G(t),!0)});let Q=K(JSON.parse(F[D]));const U=({jobName:t,jobNo:e,jobId:o,custName:n})=>{Q[Z({jobName:t,jobNo:e,jobId:o,custName:n})]=Date.now(),tt()},X=({jobName:t,jobNo:e,jobId:o,custName:n})=>{delete Q[Z({jobName:t,jobNo:e,jobId:o,custName:n})],tt()},Y=t=>!!Q[Z(t)],Z=({jobName:t,jobNo:e,jobId:o,custName:n})=>[t,e,o,n].join("​"),tt=()=>{window.dispatchEvent(new CustomEvent("ignoredJobListChange",{detail:{...Q}}))};window.addEventListener("storage",(({key:t,newValue:e})=>{if(t===D)try{const t=JSON.parse(e);Q=K(t),tt()}catch{}}));const et=/^https:\/\/www\.104\.com\.tw\/jobs\/search/,ot=/www\.104\.com\.tw\/job\/(\w+)/,nt=(t=!1)=>{const e=document.querySelector("#js-job-content");e&&[...e.querySelectorAll("article")].reverse().every(((e,o)=>{const{jobName:n,jobNo:s,custName:l,isLast:r}=e.dataset,i=e.querySelector("a.js-job-link").getAttribute("href").match(ot)[1];return!(r&&!t)&&(Y({jobName:n,jobNo:s,jobId:i,custName:l})?lt(e):(rt(e),e.querySelector("button[class*=svelte]")||new W({target:e.querySelector(".b-block__right"),props:{onClick:()=>st({jobName:n,jobNo:s,custName:l,jobId:i,$job:e})}})),0===o&&(e.dataset.isLast=!0),!0)}))},st=({jobName:t,jobNo:e,jobId:o,custName:n})=>{U({jobName:t,jobNo:e,jobId:o,custName:n})},lt=t=>{t.className.endsWith(" hide")||(t.className+=" hide")},rt=t=>{t.className.endsWith(" hide")&&(t.className=t.className.split(" hide")[0])},it=window.history.replaceState.bind(window.history);function at(e){let o,n,l,r,m;return{c(){o=u("button"),n=f("不感興趣"),p(o,"class",l=i("btn btn-sm btn-has-icon "+(e[0]?"btn-secondary":"btn-outline-primary"))+" svelte-nck79t")},m(t,l){c(t,o,l),a(o,n),r||(m=h(o,"click",(function(){s(e[1])&&e[1].apply(this,arguments)})),r=!0)},p(t,[n]){e=t,1&n&&l!==(l=i("btn btn-sm btn-has-icon "+(e[0]?"btn-secondary":"btn-outline-primary"))+" svelte-nck79t")&&p(o,"class",l)},i:t,o:t,d(t){t&&d(o),r=!1,m()}}}function ct(t,e,o){let{isIgnored:n}=e,{onClick:s}=e;return t.$$set=t=>{"isIgnored"in t&&o(0,n=t.isIgnored),"onClick"in t&&o(1,s=t.onClick)},[n,s]}window.history.replaceState=(...t)=>{window.dispatchEvent(new CustomEvent("urlchange")),it(...t)},window.addEventListener("urlchange",(()=>{et.test(window.location.href)&&setTimeout((()=>{nt()}),449)})),window.addEventListener("ignoredJobListChange",(()=>{nt(!0)})),nt();const dt=class extends B{constructor(t){var e;super(),document.getElementById("svelte-nck79t-style")||((e=u("style")).id="svelte-nck79t-style",e.textContent="button.svelte-nck79t{float:left;margin-top:5px}",a(document.head,e)),H(this,t,ct,at,l,{isIgnored:0,onClick:1})}};function ut(e){let o,n,s;return{c(){o=m("svg"),n=m("path"),s=m("path"),p(n,"fill-rule","evenodd"),p(n,"d","M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5z"),p(s,"fill-rule","evenodd"),p(s,"d","M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0v-5z"),p(o,"width","1em"),p(o,"height","1em"),p(o,"viewBox","0 0 16 16"),p(o,"class","bi bi-box-arrow-up-right"),p(o,"fill","currentColor"),p(o,"xmlns","http://www.w3.org/2000/svg")},m(t,e){c(t,o,e),a(o,n),a(o,s)},p:t,i:t,o:t,d(t){t&&d(o)}}}setTimeout((()=>{const t=document.querySelector(".job-header__btn");if(t){const e=document.querySelector(".job-header__cont"),o=window.location.href.match(/www\.104\.com\.tw\/job\/(\w+)/)[1],n=e.querySelector(".job-header__title h1").getAttribute("title"),s=e.querySelector("form.apply-button").elements.cookie_names.value,l=e.querySelector('.job-header__title > div > a[data-gtm-head="公司名稱"]').getAttribute("title");let r=Y({jobName:n,jobNo:s,jobId:o,custName:l});const i=new dt({target:t,props:{isIgnored:r,onClick:()=>a()}}),a=()=>{r?X({jobName:n,jobNo:s,jobId:o,custName:l}):U({jobName:n,jobNo:s,jobId:o,custName:l})};window.addEventListener("ignoredJobListChange",(()=>{r=Y({jobName:n,jobNo:s,jobId:o,custName:l}),i.$$set({isIgnored:r})}))}}),449);const mt=class extends B{constructor(t){super(),H(this,t,null,ut,l,{})}};function ft(e){let o,n,s;return{c(){o=m("svg"),n=m("path"),s=m("path"),p(n,"d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"),p(s,"fill-rule","evenodd"),p(s,"d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"),p(o,"width","1em"),p(o,"height","1em"),p(o,"viewBox","0 0 16 16"),p(o,"class","bi bi-trash"),p(o,"fill","currentColor"),p(o,"xmlns","http://www.w3.org/2000/svg")},m(t,e){c(t,o,e),a(o,n),a(o,s)},p:t,i:t,o:t,d(t){t&&d(o)}}}const bt=class extends B{constructor(t){super(),H(this,t,null,ft,l,{})}};function ht(t,e,o){const n=t.slice();return n[2]=e[o].jobName,n[3]=e[o].jobNo,n[4]=e[o].jobId,n[5]=e[o].custName,n}function pt(t,e){let o,n,l,r,i,m,g,w,j,y,$,N,_,k,x,I,L,C,S=e[2]+"",A=e[5]+"";return y=new mt({}),k=new bt({}),{key:t,first:null,c(){o=u("li"),n=u("span"),l=f(S),r=b(),i=u("span"),m=f(A),g=b(),w=u("span"),j=u("a"),z(y.$$.fragment),N=b(),_=u("span"),z(k.$$.fragment),x=b(),p(n,"class","JobItem__text svelte-17rvml5"),p(i,"class","JobItem__text svelte-17rvml5"),p(j,"href",$=`https://www.104.com.tw/job/${e[4]}`),p(j,"class","Actions__item Actions__item--link svelte-17rvml5"),p(j,"target","_blank"),p(_,"class","Actions__item Actions__item--delete svelte-17rvml5"),p(w,"class","Actions svelte-17rvml5"),p(o,"class","JobItem svelte-17rvml5"),this.first=o},m(t,d){c(t,o,d),a(o,n),a(n,l),a(o,r),a(o,i),a(i,m),a(o,g),a(o,w),a(w,j),O(y,j,null),a(w,N),a(w,_),O(k,_,null),a(o,x),I=!0,L||(C=h(_,"click",(function(){s(e[1]({jobName:e[2],jobNo:e[3],jobId:e[4],custName:e[5]}))&&e[1]({jobName:e[2],jobNo:e[3],jobId:e[4],custName:e[5]}).apply(this,arguments)})),L=!0)},p(t,o){e=t,(!I||1&o)&&S!==(S=e[2]+"")&&v(l,S),(!I||1&o)&&A!==(A=e[5]+"")&&v(m,A),(!I||1&o&&$!==($=`https://www.104.com.tw/job/${e[4]}`))&&p(j,"href",$)},i(t){I||(q(y.$$.fragment,t),q(k.$$.fragment,t),I=!0)},o(t){M(y.$$.fragment,t),M(k.$$.fragment,t),I=!1},d(t){t&&d(o),T(y),T(k),L=!1,C()}}}function vt(t){let e,o,s,l,r,i=[],m=new Map,f=t[0];const h=t=>t[4];for(let e=0;e<f.length;e+=1){let o=ht(t,f,e),n=h(o);m.set(n,i[e]=pt(n,o))}return{c(){e=u("div"),o=u("h3"),o.textContent="已過濾職缺",s=b(),l=u("ul");for(let t=0;t<i.length;t+=1)i[t].c();p(o,"class","JobList__title svelte-17rvml5"),p(l,"class","JobList__list svelte-17rvml5"),p(e,"class","JobList svelte-17rvml5")},m(t,n){c(t,e,n),a(e,o),a(e,s),a(e,l);for(let t=0;t<i.length;t+=1)i[t].m(l,null);r=!0},p(t,[e]){if(3&e){const o=t[0];E={r:0,c:[],p:E},i=function(t,e,o,n,s,l,r,i,a,c,d,u){let m=t.length,f=l.length,b=m;const h={};for(;b--;)h[t[b].key]=b;const p=[],v=new Map,g=new Map;for(b=f;b--;){const t=u(s,l,b),n=o(t);let i=r.get(n);i?i.p(t,e):(i=c(n,t),i.c()),v.set(n,p[b]=i),n in h&&g.set(n,Math.abs(b-h[n]))}const w=new Set,j=new Set;function y(t){q(t,1),t.m(i,d),r.set(t.key,t),d=t.first,f--}for(;m&&f;){const e=p[f-1],o=t[m-1],n=e.key,s=o.key;e===o?(d=e.first,m--,f--):v.has(s)?!r.has(n)||w.has(n)?y(e):j.has(s)?m--:g.get(n)>g.get(s)?(j.add(n),y(e)):(w.add(s),m--):(a(o,r),m--)}for(;m--;){const e=t[m];v.has(e.key)||a(e,r)}for(;f;)y(p[f-1]);return p}(i,e,h,0,t,o,m,l,V,pt,null,ht),E.r||n(E.c),E=E.p}},i(t){if(!r){for(let t=0;t<f.length;t+=1)q(i[t]);r=!0}},o(t){for(let t=0;t<i.length;t+=1)M(i[t]);r=!1},d(t){t&&d(e);for(let t=0;t<i.length;t+=1)i[t].d()}}}function gt(t,e,o){let{jobList:n=[]}=e,{onRemove:s}=e;return t.$$set=t=>{"jobList"in t&&o(0,n=t.jobList),"onRemove"in t&&o(1,s=t.onRemove)},[n,s]}const wt=class extends B{constructor(t){var e;super(),document.getElementById("svelte-17rvml5-style")||((e=u("style")).id="svelte-17rvml5-style",e.textContent=".JobList.svelte-17rvml5.svelte-17rvml5{background:#fff;overflow:auto;margin-top:15px}.JobList__title.svelte-17rvml5.svelte-17rvml5{padding:0 8px}.JobList__list.svelte-17rvml5.svelte-17rvml5{list-style:none;padding:0 3px;max-height:400px;overflow:auto}.JobItem.svelte-17rvml5.svelte-17rvml5{padding:5px;margin:5px;background:#fffaf2;position:relative}.JobItem__text.svelte-17rvml5.svelte-17rvml5{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:100%;display:block}.JobItem.svelte-17rvml5:hover .Actions.svelte-17rvml5{opacity:1}.Actions.svelte-17rvml5.svelte-17rvml5{position:absolute;top:0;left:0;right:0;bottom:0;background:#ffffffcf;display:flex;opacity:0;transition:opacity 0.2s cubic-bezier(0, 0, 0.2, 1) 0s}.Actions__item.svelte-17rvml5.svelte-17rvml5{flex:1;display:flex;justify-content:center;align-items:center;font-size:25px;margin:5px;cursor:pointer}.Actions__item--link.svelte-17rvml5.svelte-17rvml5{color:#000}.Actions__item--link.svelte-17rvml5.svelte-17rvml5:hover{background:#0070ff52}.Actions__item--delete.svelte-17rvml5.svelte-17rvml5:hover{background:#ff454569}",a(document.head,e)),H(this,t,gt,vt,l,{jobList:0,onRemove:1})}},jt=document.querySelector(".l-content--2col--sub > section"),yt=t=>Object.entries(t).sort(((t,e)=>t[1]-e[1])).map((([t])=>(t=>{const[e,o,n,s]=t.split("​");return{jobName:e,jobNo:o,jobId:n,custName:s}})(t)));if(jt){const t={...Q},e=new wt({target:jt,props:{jobList:yt(t),onRemove:({jobName:t,jobNo:e,jobId:o,custName:n})=>{X({jobName:t,jobNo:e,jobId:o,custName:n})}}});window.addEventListener("ignoredJobListChange",(({detail:t})=>{e.$$set({jobList:yt(t)})}))}})();